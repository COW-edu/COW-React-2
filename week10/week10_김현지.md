# Week10 학습내용 정리

## DOM과 virtualDOM

### DOM

1. **DOM의 정의 및 역할**:
   - DOM은 HTML이나 XML 문서와 상호작용하는 프로그래밍 인터페이스(API)
   - 브라우저는 HTML 문서를 로드하여 노드 트리(Node Tree) 형태로 표현한다. 여기서 각 노드는 문서의 특정 부분(예: 요소, 문자열, 주석 등)을 나타낸다.
2. **DOM과 자바스크립트의 상호작용**:
   - DOM은 HTML과 자바스크립트를 연결하는 공간이다. 자바스크립트는 DOM API를 통해 HTML 문서의 구조를 읽고 수정할 수 있다.
   - 자바스크립트를 사용하여 새 노드를 생성하거나 기존 노드를 수정할 수 있고 이를 통해 동적인 웹 페이지를 구현할 수 있다.
3. **브라우저의 DOM 처리 방식**:
   - 브라우저는 작성된 HTML 코드에 기반하여 DOM을 생성한다. 만약 HTML 코드가 완전하지 않다면(예: **`<head>`**나 **`<body>`** 태그가 누락된 경우), 브라우저는 필요한 요소를 자동으로 추가하여 유효한 DOM을 구성한다
4. **DOM의 성능 문제**:
   - DOM 조작은 비용이 많이 드는 작업이다. 작은 변경사항(예: 텍스트 수정)에도 불구하고, 브라우저는 전체 DOM 트리를 다시 파싱하고, CSS를 재계산하여 Render 트리를 만들고, 레이아웃을 재구성하여 화면에 표시해야 한다.
   - 대규모 웹 사이트의 경우, 이러한 과정은 매우 비효율적일 수 있다. 작은 변경에도 전체 페이지를 재렌더링하는 것은 성능 저하를 초래할 수 있다.

### **Virtual Dom**

1. **작동 원리**:
   - 가상 DOM은 실제 DOM의 경량화된 사본으로, 변화가 일어날 때마다 전체 UI를 가상 DOM에 다시 렌더링한다.
   - 이후 가상 DOM은 변경 전과 변경 후의 상태를 비교하고 이 과정을 'Diffing'이라고 한다.
   - 변경사항이 확인되면, 가상 DOM은 이러한 변경사항만을 실제 DOM에 전달하여 DOM의 업데이트를 최적화한다. 이를 통해 전체 페이지의 재렌더링을 피할 수 있다.
2. **성능 향상**:

   ![virtualdom](https://github.com/COW-edu/COW-React-2/assets/107786171/c85c39d7-800e-4440-91e3-221ed2595b26)

   - 가상 DOM의 사용은 렌더링 성능을 크게 향상시킨다. 수정사항이 여러 개 있더라도 가상 DOM은 변경된 부분만 식별하여 한 번만 실제 DOM을 업데이트한다.
   - 이는 특히 복잡한 UI와 빈번한 상태 업데이트가 필요한 대규모 웹 애플리케이션에서 눈에 띄는 성능 이점을 제공한다.

3. **DOM 접근 지양의 이유**:
   - 직접적인 DOM 조작은 성능에 부정적인 영향을 줄 수 있다.사소한 변경에도 전체 DOM 트리를 재계산하고 레이아웃을 재구성해야 하기 때문이다.
   - 이로 인해 브라우저의 과부하가 발생할 수 있으며, 사용자 경험에도 영향을 줄 수 있다.
   - 따라서, 특히 대규모 웹 애플리케이션에서는 직접적인 DOM 조작을 최소화하고, 가상 DOM과 같은 최적화 기법을 사용하는 것이 바람직하다.

## MPA와 SPA

### MPA

1. **정의 및 특징**:
   - MPA는 여러 개의 페이지로 구성된 웹 애플리케이션
   - 사용자가 새로운 페이지를 요청할 때마다 서버로부터 해당 페이지의 HTML, CSS 등 정적 리소스를 전체 다운로드한다.
2. **렌더링 방식 (SSR - Server-Side Rendering)**:
   - MPA는 주로 SSR 방식으로 렌더링된다. 이는 서버에서 페이지를 완전히 렌더링하여 사용자에게 전송하는 방식을 의미한다.
3. **장점**:
   - SEO에 유리하다. MPA는 완성된 형태의 HTML 파일을 서버로부터 전달받는다.따라서 검색엔진이 페이지를 크롤링하기에 적합하다.
   - 서버에서 이미 렌더링된 페이지를 전송하기 때문에 초기 페이지 로딩이 빠르다
4. **단점**:
   - 페이지 이동 시 전체 페이지가 새로 렌더링되어 화면이 깜빡일 수 있다.
   - 각 페이지 요청마다 서버에서 렌더링 과정을 거치기 때문에 서버에 부하가 일어날수있다.

### SPA

1. **정의 및 특징**:
   - SPA는 단일 페이지로 구성된 웹 애플리케이션
   - 초기 로딩 시 필요한 모든 정적 리소스를 한 번에 다운로드하고 이후 페이지 갱신 시 필요한 데이터만 서버로부터 받아 동적으로 페이지를 갱신한다.
2. **렌더링 방식 (CSR - Client-Side Rendering)**:
   - SPA는 주로 CSR 방식을 사용한다. 이는 사용자의 브라우저가 페이지의 렌더링을 담당하는 방식이다.
3. **장점**:
   - 자연스러운 사용자 경험을 제공한다.
   - 필요한 리소스만 서버로부터 받아오기 때문에, 네트워크 사용량이 줄어든다
   - 서버의 템플릿 연산 부담을 클라이언트로 이동시킨다.
   - 컴포넌트 기반의 개발이 용이하며, 모바일 앱 개발 시 동일한 API를 사용할 수 있다.
4. **단점**:
   - 모든 자바스크립트 파일을 처음에 로드해야 하기 때문에 초기 구동 속도가 느릴 수 있다.
   - SEO 최적화가 어렵다.
   - 보안 이슈가 있을 수 있다. 클라이언트 측에서 사용자 정보를 관리하는 데 한계가 있다.

<aside>
💡 SPA방식이 모두 CSR인 것은 아님

</aside>

## SSR과 CSR

### SSR

![ssr](https://github.com/COW-edu/COW-React-2/assets/107786171/59160229-65ae-4c67-b964-34060d6b938b)

- SSR은 서버에서 페이지의 전체 HTML을 렌더링하여 클라이언트로 전송하는 방식
- 페이지 요청마다 서버는 HTML, CSS, JavaScript 등의 리소스를 포함한 완성된 페이지를 생성하여 응답한다.
- 사용자가 웹 페이지를 요청하면 서버는 해당 페이지의 모든 콘텐츠와 구조를 렌더링한 HTML 파일을 생성하여 전송한다.
- 브라우저는 서버로부터 받은 HTML을 해석하여 페이지를 표시한다.

### CSR

![csr](https://github.com/COW-edu/COW-React-2/assets/107786171/37b3e528-a8ac-4666-a3b9-fdb368555e55)

- CSR은 최초 요청 시 서버로부터 전체 페이지를 로딩한 후, 이후의 페이지 갱신은 클라이언트 측에서 JavaScript를 사용하여 수행하는 방식이다. 서버는 최초 요청에 필요한 HTML, JavaScript, CSS 등을 전송하고, 이후의 동작은 클라이언트 측에서 처리한다.
- 사용자가 웹 애플리케이션에 처음 접근하면 서버는 필요한 정적 리소스를 전송한다.
- 이후의 페이지 갱신이나 데이터 요청은 JavaScript를 통해 클라이언트 측에서 처리되며, 필요한 데이터만 서버로부터 비동기적으로 불러와 페이지를 업데이트한다.
